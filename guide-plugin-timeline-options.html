<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-us" />
    <link rel="icon" href="static/img/favicon.ico" />
    <meta name="description" content="amalia.js is a new extensible and versatile HTML5 multimedia player that allows you to view any type of metadata along with your video or audio streams" />
    <meta name="keywords" content="amalia.js, ina, research, amalia, video, audio, multimedia, player, metadata, plugin, javascript, html5, timeline, keyframe, analysis, extraction, visualization, content, indexing, json, dataviz" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/yeti/bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" rel="stylesheet" href="css/amalia-site.css" />

    <!-- amalia.js dependencies -->
    <script type="text/javascript" src="libs/jquery.min.js"></script>
    <script type="text/javascript" src="libs/jquery-ui.min.js"></script>
    <script type="text/javascript" src="libs/raphael-min.js"></script>

    <!-- amalia.js player stuff -->
    <link type="text/css" rel="stylesheet" href="libs/amalia-js/css/amalia.js.min.css" />
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-logger.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-captions.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-overlay.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-text-sync.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-timeline.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-editor.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-yt-player.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/i18n/amalia.js-message-en.js"></script>
    <!--Youtube IFrame API-->
    <script src="//s.ytimg.com/yts/jsbin/www-widgetapi-vflpCdzwa/www-widgetapi.js"></script>

    <!-- // -->
    <!-- See at the end od this file for other Javascript stuff  -->
    <title>amalia.js - Metadata enriched HTML5 video player</title>
</head>
<!-- **************************************************************************** -->
<!-- Nice people always look at the source code !                                 -->
<!--                                                                              -->
<!-- If you read this text, it is likely that we share the same interests. If you -->
<!-- work on the analysis and indexing of images and videos, please contact us.   -->
<!-- We are always looking for new opportunities to set up research projects or   -->
<!-- establish scientific collaborations.                                         -->
<!--                                                                              -->
<!--                       amalia -dot- js -at- ina.fr                            -->
<!--                                                                              -->
<!-- **************************************************************************** -->

<body>
    <!-- NAVBAR -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html">amalia.js</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav pull-right">
                    <li><a class="scroll-to" href="index.html#download">Download</a></li>
                    <li><a class="scroll-to" href="index.html#documentation">Documentation</a></li>
                    <li><a class="scroll-to" href="index.html#examples">Examples</a></li>
                    <li><a class="scroll-to" href="index.html#about">About</a></li>
                    <li><a class="scroll-to" href="index.html#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- MAIN CONTENT -->
    <div class="container content guide">
        <div class="row row-centered">
            <div class="col-md-8">

                <div class='doc-plugin-timeline' id='doc-plugin-timeline'>
                    <h3 class="title">Timeline plugin</h3>


                    <div id="myplayer-timeline-container">
                        <div style="height: 350px;">
                            <div id="myplayer-timeline"></div>
                        </div>
                        <div id="myplayer-timeline-timeline" style="height: 265px;"></div>
                        <div style="clear: both;"></div>
                    </div>

                    <p>The purpose of this plugin is to represent all the timecoded metadata on a timeline. This plugin is
                        composed of two parts. At the top, the time axis where you can navigate and zoom in the timeline.
                        You may use either the appropriate
                        buttons or the mouse</p>

                    <p>Below the time axis, all the timelines are displayed. For a given media, we can display as many
                        timelines as desired, each of which may be linked to a different source of metadata displayed with a
                        specific type of line. For the moment,
                        we have three type of lines :</p>
                    <ul>
                        <li><strong>cuepoint</strong>: to visualize simple temporal points (<code>localisation</code> with a
                            <code>tc</code>
                            field)
                        </li>
                        <li><strong>segment</strong>: to visualize temporal segment (<code>localisation</code> with
                            <code>tcin</code> and <code>tcout</code> fields)
                        </li>
                        <li><strong>image</strong>: to visualize simple temporal points with images
                            (<code>localisation</code> with
                            <code>tc</code> and <code>thumb</code> fields)
                        </li>
                    </ul>
                    <p>The timeline is synchronized with the player, a progress bar indicates the current position in the
                        media and a click on any object represented in the timeline will seek in the media at the correct
                        timecode.</p>

                    <p>
                        The player and the timeline plugin are in two separate
                        <code>div</code>
                        in your HTML. Again, each of these
                        <code>div</code>
                        must have an
                        <code>id</code>
                        that will be referenced in the player initialization javascript code. Below is a simple example. The
                        timeline plugin is not necessarily just below the player. It's up to you to set the
                        <code>div</code>
                        at the correct place.
                    </p>
                    <pre class="smallpre">
&lt;div id="myplayer-timeline-container"&gt;
        &lt;div style="height: 350px;"&gt;
                &lt;div id="myplayer-timeline"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div id="myplayer-timeline-timeline" style="height: 265px;"&gt;&lt;/div&gt;
        &lt;div style="clear: both;"&gt;&lt;/div&gt;
&lt;/div&gt;
        </pre>
                    <h4>Timeline control buttons</h4>

                    <p>On the time axis, you will find the following control buttons :</p>
                    <table style="margin: 10px">
                        <tr>
                            <td style="padding: 2px; width: 140px">
                                <img src="img/timeaxis_nav.png" />
                            </td>
                            <td>slide left and right on the time axis (same as click and drag)</td>
                        </tr>
                        <tr>
                            <td style="padding: 2px; width: 140px">
                                <img src="img/timeaxis_size.png" />
                            </td>
                            <td>zoom in and out (same as mouse scroll), change the timelines height</td>
                        </tr>
                    </table>
                    <p>On each line, depending on the initialization parameters, you may find the following control buttons
                        :</p>
                    <table style="margin: 10px">
                        <tr>
                            <td style="padding: 2px; width: 140px">
                                <img src="img/timeline_nav.png" />
                            </td>
                            <td>go to previous / next timecoded element</td>
                        </tr>
                        <tr>
                            <td style="padding: 2px; width: 140px">
                                <img src="img/timeline_ctrl.png" />
                            </td>
                            <td>collapse / expand the line, change the line order in the list (click and drag to move the
                                line up or down)
                            </td>
                        </tr>
                    </table>

                    <p>In the following example, we create a player and load metadata blocks from three different sources.
                        We add the timeline plugin with three lines. Each one of these lines is bound to a different
                        metadata block of a specific type.</p>

                    <h4>Timeline plugin options:</h4>

                    <div id="player-options" class="panel panel-default">
                        <div class="panel-body">
                            <table class="table table-striped table-hover ">
                                <thead>
                                    <th>Options</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th></th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>listOfLines</td>
                                        <td>Array</td>
                                        <td>Configuration of all the lines, contains an array of items</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>displayLines</td>
                                        <td>Number</td>
                                        <td>Number of lines to display (default : 3)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>timeaxis</td>
                                        <td>Boolean</td>
                                        <td>Whether to display the time axis or not (default : true)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>resizable</td>
                                        <td>Number</td>
                                        <td>allow the user to resize the timeline and collapse/expand the time axis (default :
                                            false)
                                        </td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>timecursor</td>
                                        <td>Boolean</td>
                                        <td>Display or not the time cursor (default : true)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>nbZoomLevel</td>
                                        <td>Number</td>
                                        <td>(default : 3)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>zoomCoef</td>
                                        <td>Array</td>
                                        <td>(default : [1 / 4, 1 / 16, 1 / 64, 1 / 256])</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>zoomProperty</td>
                                        <td>Array</td>
                                        <td> (default : tclevel)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>displayState</td>
                                        <td>Array</td>
                                        <td>(default : "")</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>viewZoomSync</td>
                                        <td>Boolean</td>
                                        <td> (default : tclevel)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>viewZoomSyncOffset</td>
                                        <td>Number</td>
                                        <td> (default : tclevel)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>timeaxisExpandable</td>
                                        <td>Boolean</td>
                                        <td> (default : false)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>editingMode</td>
                                        <td>Boolean</td>
                                        <td> (default : false)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>thumbRootDirectory</td>
                                        <td>String</td>
                                        <td>Thumbnail root directory</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>thumbDirectory</td>
                                        <td>String</td>
                                        <td>Thumbnail directory, it override by line configuration.</td>
                                        <td></td>
                                    </tr>

                                    <tr>
                                        <td>lineDisplayMode</td>
                                        <td>String</td>
                                        <td>Line display mode:<br />
                                            - STATIC : use for line configuration with parameters.<br />
                                            - DYNAMIC : use for line configuration with dynamic binding data type (see metadata data type).<br />
                                            - STATIC_DYNAMIC : use for line configuration with parameters and binding with data type.<br />
                                        </td>
                                        <td>Default value: STATIC</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>Then, for each line, you have the following main parameters available :</p>
                            <table class="table table-striped table-hover ">
                                <thead>
                                    <th>Options</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th></th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>metadataId</td>
                                        <td>String</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>type</td>
                                        <td>String</td>
                                        <td>cuepoint, segment or image</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>controlBarClassName</td>
                                        <td>String</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>title</td>
                                        <td>Number</td>
                                        <td>Label of this line</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>color</td>
                                        <td>String</td>
                                        <td>Color of items (default : #FFF)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>icon</td>
                                        <td>String</td>
                                        <td>Icon representing items, to be choosen in the Font Awesome list (default : circle)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>pointNav</td>
                                        <td>Boolean</td>
                                        <td>Display navigation option on this line (default : false)</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>zoomable</td>
                                        <td>Boolean</td>
                                        <td>Sets wheter this line zoom level is synchronized with the time axis or not (default : true)</td>
                                        <td></td>
                                    </tr>

                                    <tr>
                                        <td>zoomHierarchies</td>
                                        <td>Boolean</td>
                                        <td>Enable the hierarchical zoom.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>overlap</td>
                                        <td>Boolean</td>
                                        <td>Enable overlap mode.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>withParentLevel</td>
                                        <td>Boolean</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>focusable</td>
                                        <td>Boolean</td>
                                        <td>Enable focus component.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>toolsbar</td>
                                        <td>Boolean</td>
                                        <td>Enable tools bar.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>editable</td>
                                        <td>Boolean</td>
                                        <td>Enable edit mode.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>viewZoom</td>
                                        <td>Boolean</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>timecursor</td>
                                        <td>Boolean</td>
                                        <td>Enable line cursor.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>thumbDirectory</td>
                                        <td>Boolean</td>
                                        <td>Thumbnail directory for that line.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>callback</td>
                                        <td>String</td>
                                        <td>callback function when user selected line</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>callbackStyle</td>
                                        <td>String</td>
                                        <td>Set css class name for callback button</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            </dl>
                        </div>
                    </div>


                    <div>
                        <h3 class="title">Example</h3>

                        <div class="example">
                            <pre class="smallpre">

$("#myplayer-timeline").mediaPlayer({
    autoplay : false,
    src : "samples-data/examples/vid/amalia01.mp4",
    plugins: {
        dataServices: [
            'samples-data/examples/json/amalia01-events.json',
            'samples-data/examples/json/amalia01-kf.json',
            'samples-data/examples/json/amalia01-ball.json'
        ],
        list: [
            {
                'className': 'fr.ina.amalia.player.plugins.TimelinePlugin',
                'container': '#myplayer-timeline-timeline',
                'parameters': {
                    listOfLines: [
                        {
                            title: 'Events',
                            type: 'cuepoint',
                            metadataId: 'events-amalia01',
                            color: '#3CF',
                            pointNav: true
                        },
                        {
                            title: 'Ball moving up',
                            type: 'segment',
                            metadataId: 'ball-amalia01',
                            color: '#F00'
                        },
                        {
                            title: 'Keyframes every 2s',
                            type: 'image',
                            metadataId: 'kf-amalia01',
                            pointNav: true
                        },
                    ]
                }
            }
        ]
    }
});
        </pre>
                        </div>
                    </div>

                    <!-- Tutorial - timeline plugin -->
                    <script type="text/javascript">
                        $(function() {
                            $("#myplayer-timeline").mediaPlayer({
                                autoplay: false,
                                src: "samples-data/examples/vid/amalia01.mp4",
                                plugins: {
                                    dataServices: [
                                        'samples-data/examples/json/amalia01-events.json',
                                        'samples-data/examples/json/amalia01-kf.json',
                                        'samples-data/examples/json/amalia01-ball.json'
                                    ],
                                    list: [{
                                        'className': 'fr.ina.amalia.player.plugins.TimelinePlugin',
                                        'container': '#myplayer-timeline-timeline',
                                        'parameters': {
                                            listOfLines: [{
                                                title: 'Events',
                                                type: 'cuepoint',
                                                metadataId: 'events-amalia01',
                                                color: '#3CF',
                                                pointNav: true
                                            }, {
                                                title: 'Ball moving up',
                                                type: 'segment',
                                                metadataId: 'ball-amalia01',
                                                color: '#F00'
                                            }, {
                                                title: 'Keyframes every 2s',
                                                type: 'image',
                                                metadataId: 'kf-amalia01',
                                                pointNav: true
                                            }, ]
                                        }
                                    }]
                                }
                            });
                        });
                    </script>
                </div>

                <!-- /build -->
            </div>
            <div class="col-md-4">
                <div class="well well-lg contact hidden-xs hidden-sm">
                    <h1 class="title">Contact</h1>
                    <p>
                        For any information, you can contact us at
                        <script type="text/javascript">
                            tmp = ('a' + 'ma' + 'lia' + '.' + 'js' + '@' + 'ina.fr');
                            document.write('<a href' + '="' + 'mai' + 'lto' + ':' + tmp + '">' + tmp + '</a>');
                        </script>
                        <noscript>
                            <em>Email address protected. Please enable JavaScript to contact us.</em>
                        </noscript>
                    </p>
                </div>
                <div>
                    <h4 class="scroll-to" href="#documentation">Documentation</h4>
                    <ul class="nav nav-pills nav-stacked">
                        <li><a class="scroll-to" href="index.html#quick-start">Quick start</a></li>
                        <li><a href="guide-setup.html">Building the source code</a></li>
                        <li><a href="guide-global-architecture.html">Global architecture / Metadata</a></li>
                        <li><a href="guide-player-options.html">Player options</a></li>
                        <li><a href="guide-player-control-bar-options.html">Control bar options</a></li>
                        <li><a href="guide-plugins-options.html">Plugins and data</a></li>
                        <li><a href="guide-plugin-timeline-options.html">Timeline plugin</a></li>
                        <li><a href="guide-plugin-caption-options.html">Caption plugin</a></li>
                        <li><a href="guide-plugin-text-sync-options.html">Text synchronization plugin</a></li>
                        <li><a href="guide-plugin-overlay-options.html">Overlay plugin</a></li>
                        <li><a href="guide-plugin-editor-options.html">Editor plugin</a></li>
                        <li><a href="guide-metadata-libraries.html">Metadata libraries (Java / PHP)</a></li>
                        <li><a href="guide-player-api.html">JavaScript API</a></li>
                        <li><a href="guide-player-yt.html">YouTube Video Embed</a></li>
                        <li><a href="release-notes.html">Release notes</a></li>
                    </ul>
                </div>

            </div>
        </div>
    </div>
    </div>
    <!-- /build -->
    <!-- FOOTER -->
    <div class="page-footer  breadcrumb">
        <div class="container">
            <div class="row" style="vertical-align: middle">

                <div class="col-md-6">Last updated : 2023-06-29</div>
                <div class="col-md-6 text-right">
                    <a href="http://www.institut-national-audiovisuel.fr/en/home"><img class="logo-ina" src="img/logo_ina.jpg" style=" margin-right:10px; width: 32x; height: 32px" />
                        Institut National de l'Audiovisuel - INA</a> ©2023
                </div>

            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(function() {
            $('.latestversion-filename').html('amalia.js-1.3.3');
            $('.latestversion').html('Last stable version - v1.3.3');
            $('.download-link-alone').attr('href', 'download/1.3.3/amalia.js-1.3.3.zip');
            $('.download-link-full').attr('href', 'download/1.3.3/amalia.js-full-1.3.3.zip');
            $('.download-link-source').attr('href', 'https://github.com/ina-foss/amalia.js/releases/tag/1.3.3');
        });
    </script>

</body>

</html>