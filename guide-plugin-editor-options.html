<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-us" />
    <link rel="icon" href="static/img/favicon.ico" />
    <meta name="description" content="amalia.js is a new extensible and versatile HTML5 multimedia player that allows you to view any type of metadata along with your video or audio streams" />
    <meta name="keywords" content="amalia.js, ina, research, amalia, video, audio, multimedia, player, metadata, plugin, javascript, html5, timeline, keyframe, analysis, extraction, visualization, content, indexing, json, dataviz" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/yeti/bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" rel="stylesheet" href="css/amalia-site.css" />

    <!-- amalia.js dependencies -->
    <script type="text/javascript" src="libs/jquery.min.js"></script>
    <script type="text/javascript" src="libs/jquery-ui.min.js"></script>
    <script type="text/javascript" src="libs/raphael-min.js"></script>

    <!-- amalia.js player stuff -->
    <link type="text/css" rel="stylesheet" href="libs/amalia-js/css/amalia.js.min.css" />
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-logger.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-captions.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-overlay.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-text-sync.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-timeline.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-plugin-editor.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/amalia.js-yt-player.min.js"></script>
    <script type="text/javascript" src="libs/amalia-js/js/i18n/amalia.js-message-en.js"></script>
    <!--Youtube IFrame API-->
    <script src="//s.ytimg.com/yts/jsbin/www-widgetapi-vflpCdzwa/www-widgetapi.js"></script>

    <!-- // -->
    <!-- See at the end od this file for other Javascript stuff  -->
    <title>amalia.js - Metadata enriched HTML5 video player</title>
</head>
<!-- **************************************************************************** -->
<!-- Nice people always look at the source code !                                 -->
<!--                                                                              -->
<!-- If you read this text, it is likely that we share the same interests. If you -->
<!-- work on the analysis and indexing of images and videos, please contact us.   -->
<!-- We are always looking for new opportunities to set up research projects or   -->
<!-- establish scientific collaborations.                                         -->
<!--                                                                              -->
<!--                       amalia -dot- js -at- ina.fr                            -->
<!--                                                                              -->
<!-- **************************************************************************** -->

<body>
    <!-- NAVBAR -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html">amalia.js</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav pull-right">
                    <li><a class="scroll-to" href="index.html#download">Download</a>
                    </li>
                    <li><a class="scroll-to" href="index.html#documentation">Documentation</a>
                    </li>
                    <li><a class="scroll-to" href="index.html#examples">Examples</a>
                    </li>
                    <li><a class="scroll-to" href="index.html#about">About</a>
                    </li>
                    <li><a class="scroll-to" href="index.html#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- MAIN CONTENT -->
    <div class="container content guide">
        <div class="row row-centered">
            <div class="col-md-8">

                <div class="plugin-editor">
                    <h3 class="title">Editor plugin (in progress)</h3>

                    <p>The purpose of this plugin is to annotate media. this plugin is composed of tree parts:</p>
                    <ul>
                        <li>ListEditor: In charge to delete or duplicate metadata.</li>
                        <li>BlockEditor: In charge to edit metadata block.</li>
                        <li>ItemsEditor: In charge to edit selected items.</li>
                    </ul>
                    <p>A server side toy application to load ans save metadata blocks will soon be available in the <a href="//github.com/ina-foss/amalia-tools">amalia-tools project</a> for demonstration purposes. Below left you will find the plugins for edit
                        metadata and on right the plugin timeline to view the changes.</p>

                    <div class="demo">
                        <div class="col-md-6">
                            <div id='player-list-editor-plugin'></div>
                            <div class="clearfix"></div>
                            <div id='player-block-editor-plugin'></div>
                            <div class="clearfix"></div>
                            <div id='player-items-editor-plugin'></div>
                        </div>
                        <div class="col-md-6">
                            <div style="background-color:#000">
                                <div style="height: 350px;">
                                    <div id="player"></div>
                                </div>
                                <div id='player_timeline-plugin' style="height: 450px;"></div>
                            </div>
                            <br/>

                            <div>
                                <button class="btn btn-info" onclick="loadData()">Load data</button>
                                <button class="btn btn-success" onclick="saveData()">Save data</button>
                                <button class="btn btn-danger" onclick="clearData()">Clear data</button>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <br/>

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">MetadataListEditorPlugin</h3>
                        </div>
                        <div class="panel-body">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <th>Options</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th></th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>defaultDataType</td>
                                        <td>String</td>
                                        <td>Set default data type.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>defaultAuthor</td>
                                        <td>String</td>
                                        <td>Set default author.</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>defaultColor</td>
                                        <td>String</td>
                                        <td>Set default color.</td>
                                        <td>Default value:#2196f3</td>
                                    </tr>
                                    <tr>
                                        <td>defaultShape</td>
                                        <td>String</td>
                                        <td>Default value:circle</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">MetadataBlockEditorPlugin</h3>
                        </div>
                        <div class="panel-body">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <th>Options</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th></th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>shapesListOfElements</td>
                                        <td>String</td>
                                        <td>Set list of shapes.</td>
                                        <td>default[ 'legal', 'facetime', 'circle' ]
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">MetadataItemsEditorPlugin</h3>
                        </div>
                        <div class="panel-body">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <th>Options</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th></th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>defaultPercentWidth</td>
                                        <td>Number</td>
                                        <td>Set default percent of segment.</td>
                                        <td>Default value: 0.1</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>


                <script>
                    var LOCALSTORAGE_AMALIA_JS_DEMO_KEY = "amalia-js-demo-annotation";
                    $(function() {
                        $("#player").mediaPlayer({
                            autoplay: false,
                            src: "samples-data/examples/vid/amalia01.mp4",
                            controlBar: {
                                sticky: true
                            },
                            plugins: {
                                dataServices: [
                                    'samples-data/examples/json/amalia01-events.json'
                                ],
                                list: [{
                                    'className': 'fr.ina.amalia.player.plugins.MetadataListEditorPlugin',
                                    'container': '#player-list-editor-plugin',
                                    'debug': true,
                                    'parameters': {
                                        //defaultDataType : fr.ina.amalia.player.PluginBindingManager.dataTypes.DETECTION
                                        defaultAuthor: 'Amalia.js',
                                        defaultColor: '#2196f3',
                                        defaultShape: 'circle'
                                    }
                                }, {
                                    'className': 'fr.ina.amalia.player.plugins.MetadataBlockEditorPlugin',
                                    'container': '#player-block-editor-plugin',
                                    'debug': true,
                                    'parameters': {}
                                }, {
                                    'className': 'fr.ina.amalia.player.plugins.MetadataItemsEditorPlugin',
                                    'container': '#player-items-editor-plugin',
                                    'debug': true,
                                    'parameters': {}
                                }, {
                                    'className': 'fr.ina.amalia.player.plugins.TimelinePlugin',
                                    'container': '#player_timeline-plugin',
                                    'debug': false,
                                    'parameters': {
                                        debug: true,
                                        timeaxeExpandable: false,
                                        resizable: true,
                                        displayLines: 3,
                                        editingMode: true,
                                        lineDisplayMode: fr.ina.amalia.player.plugins.PluginBaseMultiBlocks.METADATA_DISPLAY_TYPE.STATIC_DYNAMIC,
                                        listOfLines: [{
                                            title: 'Events',
                                            type: 'cuepoint',
                                            metadataId: 'events-amalia01',
                                            color: '#3CF',
                                            pointNav: true
                                        }]
                                    }
                                }]

                            }
                        });

                    });

                    /**
                     * load
                     * @method loadData
                     */
                    function loadData() {
                        if (typeof localStorage !== 'undefined') {
                            try {
                                var listMetadatas = JSON.parse(localStorage.getItem(LOCALSTORAGE_AMALIA_JS_DEMO_KEY));
                                if (typeof listMetadatas === "object") {
                                    for (var metadata in listMetadatas) {
                                        $("#player").data("fr.ina.amalia.player").getPlayer().updateBlockMetadata(metadata, listMetadatas[metadata]);
                                    }
                                }
                            } catch (error) {
                                if (typeof console !== 'undefined') {
                                    console.log("Error to load data");
                                }
                            }
                        } else {
                            if (typeof console !== 'undefined') {
                                console.log("Error to load data");
                            }
                        }
                    }

                    /**
                     * Save metadata
                     * @method saveData
                     */
                    function saveData() {
                        var listMetadatas = $("#player").data("fr.ina.amalia.player").getPlayer().getBlocksMetadata();
                        if (typeof listMetadatas === "object" && typeof localStorage !== 'undefined') {
                            localStorage.setItem(LOCALSTORAGE_AMALIA_JS_DEMO_KEY, JSON.stringify($("#player").data("fr.ina.amalia.player").getPlayer().getBlocksMetadata('amalia-simple01')));
                        } else {
                            if (typeof console !== 'undefined') {
                                console.log("Error to save data");
                            }
                        }
                    }

                    /**
                     * Clear all data
                     * @method clear
                     */
                    function clearData() {
                        if (typeof localStorage !== 'undefined') {
                            localStorage.removeItem(LOCALSTORAGE_AMALIA_JS_DEMO_KEY);
                            location.reload();
                        }
                    }
                </script>



                <!-- /build -->
            </div>
            <div class="col-md-4">
                <div class="well well-lg contact hidden-xs hidden-sm">
                    <h1 class="title">Contact</h1>
                    <p>
                        For any information, you can contact us at
                        <script type="text/javascript">
                            tmp = ('a' + 'ma' + 'lia' + '.' + 'js' + '@' + 'ina.fr');
                            document.write('<a href' + '="' + 'mai' + 'lto' + ':' + tmp + '">' + tmp + '</a>');
                        </script>
                        <noscript>
                            <em>Email address protected. Please enable JavaScript to contact us.</em>
                        </noscript>
                    </p>
                </div>
                <div>
                    <h4 class="scroll-to" href="#documentation">Documentation</h4>
                    <ul class="nav nav-pills nav-stacked">
                        <li><a class="scroll-to" href="index.html#quick-start">Quick start</a>
                        </li>
                        <li><a href="guide-setup.html">Building the source code</a>
                        </li>
                        <li><a href="guide-global-architecture.html">Global architecture / Metadata</a>
                        </li>
                        <li><a href="guide-player-options.html">Player options</a>
                        </li>
                        <li><a href="guide-player-control-bar-options.html">Control bar options</a>
                        </li>
                        <li><a href="guide-plugins-options.html">Plugins and data</a>
                        </li>
                        <li><a href="guide-plugin-timeline-options.html">Timeline plugin</a>
                        </li>
                        <li><a href="guide-plugin-caption-options.html">Caption plugin</a>
                        </li>
                        <li><a href="guide-plugin-text-sync-options.html">Text synchronization plugin</a>
                        </li>
                        <li><a href="guide-plugin-overlay-options.html">Overlay plugin</a>
                        </li>
                        <li><a href="guide-plugin-editor-options.html">Editor plugin</a>
                        </li>
                        <li><a href="guide-metadata-java-library.html">Metadata Java library</a>
                        </li>
                        <li><a href="guide-player-api.html">JavaScript API</a>
                        </li>
                        <li><a href="guide-player-yt.html">YouTube Video Embed</a>
                        </li>
                        <li><a href="release-notes.html">Release notes</a>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>
    </div>
    <!-- /build -->
    <!-- FOOTER -->
    <div class="page-footer  breadcrumb">
        <div class="container">
            <div class="row" style="vertical-align: middle">

                <div class="col-md-6">Last updated : 2016-06-20</div>
                <div class="col-md-6 text-right">
                    <a href="http://www.institut-national-audiovisuel.fr/en/home">
                        <img class="logo-ina" src="img/logo_ina.jpg" style=" margin-right:10px; width: 32x; height: 32px" />Institut National de l'Audiovisuel - INA</a>Â©2016
                </div>

            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(function() {
            $('.latestversion-filename').html('amalia.js-1.3.2');
            $('.latestversion').html('Last stable version - v1.3.2');
            $('.download-link-alone').attr('href', 'download/1.3.2/amalia.js-1.3.2.zip');
            $('.download-link-full').attr('href', 'download/1.3.2/amalia.js-full-1.3.2.zip');
            $('.download-link-source').attr('href', 'https://github.com/ina-foss/amalia.js/releases/tag/1.3.2');
        });
    </script>

</body>

</html>
